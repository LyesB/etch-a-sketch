<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet">
    <title>Etch-A-Sketch</title>
</head>
<body>
    <button class="btn">Number Of Pixels</button>

    <div class="container">    

    </div>

    <script>
        //creating the 16*16 grid
        const container = document.querySelector('.container');
        for(let i=0; i<16; i++){
            const rows = document.createElement('div');
            rows.classList.add('row');
            container.appendChild(rows);

            const row = document.querySelectorAll('.row');
            for(let j=0; j<16; j++){
                const columns = document.createElement('div');
                columns.classList.add('column');
                row[i].appendChild(columns);
            }
        }
        //Hover effect with random rgb colors
        const gridElements = document.querySelectorAll('.column');
        
        gridElements.forEach((gridElement)=> {
            gridElement.addEventListener('mouseover',()=>{
                const randomColor = Math.floor(Math.random()*16777215).toString(16);
                gridElement.style.background = '#' + randomColor;
            });
  
        });

        function removeAllChildNodes(parent) {
            while (parent.firstChild) {
                parent.removeChild(parent.firstChild);
            }
        }

        const btn = document.querySelector('.btn');
        btn.addEventListener('click', () => { 
            let newGrid = prompt("Enter the number of pixels per side (under 100) :");
            if (newGrid<100 && newGrid>0){
                
                const container = document.querySelector('.container');
                removeAllChildNodes(container);

                const container2 = document.querySelector('.container');
                for(let x=0; x<newGrid; x++){
                    const rows = document.createElement('div');
                    rows.classList.add('row');
                    container2.appendChild(rows);

                    const row = document.querySelectorAll('.row');
                    for(let y=0; y<newGrid; y++){
                        const columns = document.createElement('div');
                        columns.classList.add('column');
                        row[x].appendChild(columns);
                    }
                }

                const gridElements = document.querySelectorAll('.column');
                
               
        
                gridElements.forEach((gridElement)=> {
                gridElement.addEventListener('mouseover',()=>{
                    const randomColor = Math.floor(Math.random()*16777215).toString(16);
                    gridElement.style.background = '#' + randomColor;
                    
  
                });
  
                });
                
            }
       });
      
    </script>
    
</body>
</html>